# Задачи первого этапа
- [ ] Аутентификация логин пароль  - желательно LDAP
- [ ] Заказы
- [ ] Движение по заказу наименование - сумма 
- [ ] Продукты/BOM  - смотрелось бы эффектно и как часть еще одной насущной задачи предприятия

# Движение. Activitis
Действия, движение в рамках заказа.

## Поля

1. name:string
1. from
1. to
1. type:?   типы активитис
1. sum:decimal			сумма
1. plan\_date:time  планируемая дата
1. date:time	    дата 
1. note:text		примечание
1. done:boolean        готово
1. freezed:boolean     заморожено (менять нельзя)

## Типы активитис

1. lead - зацепка, предзаказ
1. bill - счет, головной документ (документы), из которого должны формироваться остальные документы со спецификацией.
1. invoice - отгрузочная накладная
1. delivery - транспортная накладная
1. assembley - сборочный акт
1. payment - оплата
1. on\_stock - на складе
1. manufacturing - в производстве

## Итоги по активитис

Система должна уметь делать итоги по суммам активитис. 

Например сумма:

1. bill-invoice  Говорит о состоянии отгрузки
1. payment - invoice  об оплате и отгрузке по отношению к оплате
1. delivery - assembley о состоянии сборки к доставке

## Работа с активитис

Создали lead со списком. 

Поставили в списке активитис на него галку в листбоксе выбрали тип активитис, нажали кнопку Create, клонировали активити, с выбранным типом и списком, напримр счет.

Выбираем счет, в листбоксе выбрали Отгрузка жмем Create, клонировали активити Счет, получили Активити Отгрузка со списком.

Киллер фича этого - возможность делать неколько документов одного типа, например отгрузок по нескольким счетам, таким образом чтобы итоги по количеству в списках совпадали.


Пример:

Счет 1 

1. Стул - 10 шт
1. Стол - 10 шт

Счет 2 

1. Тумбочка - 10 шт
1. Кресло   - 10 шт


Накладная 1

1. Стол     - 5 шт
1. Кресло   - 5 шт
1. Тумбочка - 5 шт

Накладная 2

1. Стол     - 5 шт
1. Кресло   - 5 шт
1. Тумбочка - 5 шт

Накладная 3

1. Кресло   - 10 шт

Причем при клонировании нужно показывать список к активитис с остатком по количеству.


# Manuals and how to
## Имплементация бутсрап 
http://railscasts.com/episodes/328-twitter-bootstrap-basics?view=asciicast


# Предложения по использованию gem
## Аутентификация 
gem devise		примечание
done:boolean        готово
freezed:boolean     заморожено (менять нельзя)





# Manuals and how to
## Имплементация бутсрап 
http://railscasts.com/episodes/328-twitter-bootstrap-basics?view=asciicast


# Предложения по использованию gem
## Аутентификация 
gem devise
	
http://railscasts.com/episodes?utf8=%E2%9C%93&search=devise

вроде умеет с LDAP

## Права 
gem cancan

## Клонирование
Предлагаю для клонирования записей использовать gem, например amoeba
https://rubygems.org/gems/amoeba

описание проблемы и коротенький мануал:
http://stackoverflow.com/questions/5976684/cloning-a-record-in-rails-is-it-possible-to-clone-associations-and-deep-copy

## HTML из MD (pandoc)
`pandoc prog_guide.md -s -o pg.html`

# Загрузка продуктов
rails runner [-e envname] lib/import_products.rb lib/Book1.csv
